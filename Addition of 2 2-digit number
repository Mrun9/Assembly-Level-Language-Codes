%macro printf 2
    mov rax, 1
    mov rdi, 1
    mov rsi, %1
    mov rdx, %2
    syscall
%endmacro

%macro scanf 2
    mov rax, 0
    mov rdi, 0
    mov rsi, %1
    mov rdx, %2
    syscall
%endmacro

section .data
    m1 db 0ah,"Addition of 2 numbers is - "
    l1 equ $-m1 
    m2 db 0ah,"First number - "
    l2 equ $-m2
    m3 db 0ah,"Second number - "
    l3 equ $-m3
    m4 db 0ah,"debug"
    l4 equ $-m4
    
section .bss
    num1 resb 02
    num2 resb 02
    ans resb 02
    tp resb 01
    up resb 01
    
section .text
    global _start
    
_start:
    ; print 1st number
    printf m2, l2 
    scanf num1, 2
    printf num1, 2

    ; print 2nd number
    printf m3, l3 
    scanf num2, 2
    printf num2, 2

    ; add the numbers 
    printf m1, l1
    mov esi, num1 
    mov al, [esi]
    sub al, 30h
    mov edi, num2 
    mov bl, [edi]
    sub bl, 30h

    add al, bl 
    add al, 30h
    mov byte[tp], al

    inc esi 
    inc edi 
    mov esi, num1 
    mov al, [esi]
    sub al, 30h
    mov edi, num2 
    mov bl, [edi]
    sub bl, 30h

    add al, bl 
    add al, 30h
    mov byte[up], al
    
    printf tp, 1
    printf up, 1
    
exit:
    mov rax, 60
    mov rdi, 0
    syscall 
        
